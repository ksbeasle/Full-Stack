function cov_eh686r9lq(){var path="/Users/machd/Desktop/Full-Stack/full-stack-app/back-end/controller/gameController.js";var hash="2c6e814f0045b89be3af047bcbb06481ead6d641";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/machd/Desktop/Full-Stack/full-stack-app/back-end/controller/gameController.js",statementMap:{"0":{start:{line:1,column:13},end:{line:1,column:38}},"1":{start:{line:2,column:14},end:{line:2,column:30}},"2":{start:{line:3,column:17},end:{line:3,column:36}},"3":{start:{line:6,column:0},end:{line:16,column:1}},"4":{start:{line:7,column:8},end:{line:15,column:6}},"5":{start:{line:8,column:8},end:{line:12,column:9}},"6":{start:{line:9,column:12},end:{line:9,column:102}},"7":{start:{line:10,column:12},end:{line:10,column:33}},"8":{start:{line:11,column:12},end:{line:11,column:21}},"9":{start:{line:14,column:8},end:{line:14,column:23}},"10":{start:{line:19,column:0},end:{line:31,column:1}},"11":{start:{line:20,column:14},end:{line:20,column:22}},"12":{start:{line:22,column:4},end:{line:30,column:5}},"13":{start:{line:23,column:19},end:{line:23,column:39}},"14":{start:{line:24,column:6},end:{line:24,column:45}},"15":{start:{line:28,column:6},end:{line:28,column:22}},"16":{start:{line:29,column:6},end:{line:29,column:19}},"17":{start:{line:34,column:0},end:{line:44,column:1}},"18":{start:{line:35,column:13},end:{line:35,column:26}},"19":{start:{line:36,column:4},end:{line:42,column:5}},"20":{start:{line:37,column:17},end:{line:37,column:40}},"21":{start:{line:38,column:6},end:{line:38,column:20}},"22":{start:{line:40,column:6},end:{line:40,column:30}},"23":{start:{line:41,column:6},end:{line:41,column:19}},"24":{start:{line:47,column:0},end:{line:47,column:38}},"25":{start:{line:50,column:0},end:{line:61,column:1}},"26":{start:{line:51,column:18},end:{line:51,column:26}},"27":{start:{line:52,column:13},end:{line:52,column:26}},"28":{start:{line:54,column:4},end:{line:60,column:5}},"29":{start:{line:55,column:20},end:{line:55,column:61}},"30":{start:{line:56,column:6},end:{line:56,column:23}},"31":{start:{line:58,column:6},end:{line:58,column:30}},"32":{start:{line:59,column:6},end:{line:59,column:19}},"33":{start:{line:63,column:0},end:{line:77,column:1}},"34":{start:{line:64,column:11},end:{line:64,column:24}},"35":{start:{line:65,column:2},end:{line:65,column:36}},"36":{start:{line:66,column:2},end:{line:76,column:3}},"37":{start:{line:67,column:22},end:{line:67,column:53}},"38":{start:{line:68,column:22},end:{line:68,column:45}},"39":{start:{line:69,column:4},end:{line:71,column:5}},"40":{start:{line:70,column:6},end:{line:70,column:43}},"41":{start:{line:72,column:4},end:{line:72,column:35}},"42":{start:{line:74,column:4},end:{line:74,column:28}},"43":{start:{line:75,column:4},end:{line:75,column:17}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:25},end:{line:6,column:26}},loc:{start:{line:6,column:39},end:{line:16,column:1}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:7,column:22},end:{line:7,column:23}},loc:{start:{line:7,column:43},end:{line:15,column:5}},line:7},"2":{name:"(anonymous_2)",decl:{start:{line:19,column:26},end:{line:19,column:27}},loc:{start:{line:19,column:46},end:{line:31,column:1}},line:19},"3":{name:"(anonymous_3)",decl:{start:{line:34,column:26},end:{line:34,column:27}},loc:{start:{line:34,column:45},end:{line:44,column:1}},line:34},"4":{name:"(anonymous_4)",decl:{start:{line:50,column:29},end:{line:50,column:30}},loc:{start:{line:50,column:49},end:{line:61,column:1}},line:50},"5":{name:"(anonymous_5)",decl:{start:{line:63,column:29},end:{line:63,column:30}},loc:{start:{line:63,column:49},end:{line:77,column:1}},line:63}},branchMap:{"0":{loc:{start:{line:8,column:8},end:{line:12,column:9}},type:"if",locations:[{start:{line:8,column:8},end:{line:12,column:9}},{start:{line:8,column:8},end:{line:12,column:9}}],line:8},"1":{loc:{start:{line:69,column:4},end:{line:71,column:5}},type:"if",locations:[{start:{line:69,column:4},end:{line:71,column:5}},{start:{line:69,column:4},end:{line:71,column:5}}],line:69}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2c6e814f0045b89be3af047bcbb06481ead6d641"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_eh686r9lq=function(){return actualCoverage;};}return actualCoverage;}cov_eh686r9lq();const Game=(cov_eh686r9lq().s[0]++,require('../models/game'));const chalk=(cov_eh686r9lq().s[1]++,require('chalk'));const mongoose=(cov_eh686r9lq().s[2]++,require('mongoose'));/* GET all games from the database */cov_eh686r9lq().s[3]++;module.exports.all_get=(req,res)=>{cov_eh686r9lq().f[0]++;cov_eh686r9lq().s[4]++;Game.find({},function(err,games){cov_eh686r9lq().f[1]++;cov_eh686r9lq().s[5]++;if(err){cov_eh686r9lq().b[0][0]++;cov_eh686r9lq().s[6]++;console.log(chalk.bgBlack.red.bold.underline('Error retrieving all games: '.err.message));cov_eh686r9lq().s[7]++;res.send(err.message);cov_eh686r9lq().s[8]++;res.end();}else{cov_eh686r9lq().b[0][1]++;}//  console.log(chalk.bgGreenBright.blue(games))
cov_eh686r9lq().s[9]++;res.send(games);});};/* PUT create a new game  */cov_eh686r9lq().s[10]++;module.exports.add_game=async(req,res)=>{cov_eh686r9lq().f[2]++;const g=(cov_eh686r9lq().s[11]++,req.body);cov_eh686r9lq().s[12]++;try{const game=(cov_eh686r9lq().s[13]++,await Game.create(g));cov_eh686r9lq().s[14]++;res.status(201).json({game:game._id});//res.send(g.platform)
}catch(err){cov_eh686r9lq().s[15]++;console.log(err);cov_eh686r9lq().s[16]++;res.send(err);}};/* GET a specific game based on id */cov_eh686r9lq().s[17]++;module.exports.get_game=async(req,res)=>{cov_eh686r9lq().f[3]++;let id=(cov_eh686r9lq().s[18]++,req.params.id);cov_eh686r9lq().s[19]++;try{let data=(cov_eh686r9lq().s[20]++,await Game.findById(id));cov_eh686r9lq().s[21]++;res.send(data);}catch(err){cov_eh686r9lq().s[22]++;console.log(err.message);cov_eh686r9lq().s[23]++;res.send(err);}};// Mongoose.set so when we use UPDATE the returned object is the new updated object
cov_eh686r9lq().s[24]++;mongoose.set('returnOriginal',false);/* UPDATE a specific game based on id */cov_eh686r9lq().s[25]++;module.exports.update_game=async(req,res)=>{cov_eh686r9lq().f[4]++;let newBody=(cov_eh686r9lq().s[26]++,req.body);let id=(cov_eh686r9lq().s[27]++,req.params.id);cov_eh686r9lq().s[28]++;try{let updated=(cov_eh686r9lq().s[29]++,await Game.findByIdAndUpdate(id,newBody));cov_eh686r9lq().s[30]++;res.send(updated);}catch(err){cov_eh686r9lq().s[31]++;console.log(err.message);cov_eh686r9lq().s[32]++;res.send(err);}};/* DELETE a single game based on the ID */cov_eh686r9lq().s[33]++;module.exports.delete_game=async(req,res)=>{cov_eh686r9lq().f[5]++;let id=(cov_eh686r9lq().s[34]++,req.params.id);cov_eh686r9lq().s[35]++;console.log(chalk.bgGray.blue(id));cov_eh686r9lq().s[36]++;try{let deletedGame=(cov_eh686r9lq().s[37]++,await Game.findOneAndDelete(id));let noGameFound=(cov_eh686r9lq().s[38]++,await Game.findById(id));cov_eh686r9lq().s[39]++;if(!noGameFound){cov_eh686r9lq().b[1][0]++;cov_eh686r9lq().s[40]++;res.send('game removed successfully');}else{cov_eh686r9lq().b[1][1]++;}cov_eh686r9lq().s[41]++;res.status(200).send('Deleted');}catch(err){cov_eh686r9lq().s[42]++;console.log(err.message);cov_eh686r9lq().s[43]++;res.send(err);}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdhbWVDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbIkdhbWUiLCJyZXF1aXJlIiwiY2hhbGsiLCJtb25nb29zZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJhbGxfZ2V0IiwicmVxIiwicmVzIiwiZmluZCIsImVyciIsImdhbWVzIiwiY29uc29sZSIsImxvZyIsImJnQmxhY2siLCJyZWQiLCJib2xkIiwidW5kZXJsaW5lIiwibWVzc2FnZSIsInNlbmQiLCJlbmQiLCJhZGRfZ2FtZSIsImciLCJib2R5IiwiZ2FtZSIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJfaWQiLCJnZXRfZ2FtZSIsImlkIiwicGFyYW1zIiwiZGF0YSIsImZpbmRCeUlkIiwic2V0IiwidXBkYXRlX2dhbWUiLCJuZXdCb2R5IiwidXBkYXRlZCIsImZpbmRCeUlkQW5kVXBkYXRlIiwiZGVsZXRlX2dhbWUiLCJiZ0dyYXkiLCJibHVlIiwiZGVsZXRlZEdhbWUiLCJmaW5kT25lQW5kRGVsZXRlIiwibm9HYW1lRm91bmQiXSwibWFwcGluZ3MiOiJxbUpBZVk7eUZBZlosS0FBTUEsQ0FBQUEsSUFBSSx5QkFBR0MsT0FBTyxDQUFDLGdCQUFELENBQVYsQ0FBVixDQUNBLEtBQU1DLENBQUFBLEtBQUsseUJBQUdELE9BQU8sQ0FBQyxPQUFELENBQVYsQ0FBWCxDQUNBLEtBQU1FLENBQUFBLFFBQVEseUJBQUdGLE9BQU8sQ0FBQyxVQUFELENBQVYsQ0FBZCxDQUVBLHFDLHVCQUNBRyxNQUFNLENBQUNDLE9BQVAsQ0FBZUMsT0FBZixDQUF5QixDQUFDQyxHQUFELENBQU1DLEdBQU4sR0FBYywrQ0FDL0JSLElBQUksQ0FBQ1MsSUFBTCxDQUFVLEVBQVYsQ0FBYyxTQUFTQyxHQUFULENBQWNDLEtBQWQsQ0FBcUIsK0NBQ25DLEdBQUdELEdBQUgsQ0FBTyxrREFDSEUsT0FBTyxDQUFDQyxHQUFSLENBQVlYLEtBQUssQ0FBQ1ksT0FBTixDQUFjQyxHQUFkLENBQWtCQyxJQUFsQixDQUF1QkMsU0FBdkIsQ0FB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d0JBRy9DLEdBQUcsQ0FDRCxHQUFJWSxDQUFBQSxXQUFXLDBCQUFHLEtBQU0xQyxDQUFBQSxJQUFJLENBQUMyQyxnQkFBTCxDQUFzQmIsRUFBdEIsQ0FBVCxDQUFmLENBQ0EsR0FBSWMsQ0FBQUEsV0FBVywwQkFBRyxLQUFNNUMsQ0FBQUEsSUFBSSxDQUFDaUMsUUFBTCxDQUFjSCxFQUFkLENBQVQsQ0FBZixDQUZDLHdCQUdELEdBQUcsQ0FBQ2MsV0FBSixDQUFpQixtREFDZnBDLEdBQUcsQ0FBQ1csSUFBSixDQUFTLDJCQUFULEVBQ0QsQ0FGRCxnQ0FIQyx3QkFNRFgsR0FBRyxDQUFDa0IsTUFBSixDQUFXLEdBQVgsRUFBZ0JQLElBQWhCLENBQXFCLFNBQXJCLEVBQ0QsT0FBT1QsR0FBUCxDQUFZLHlCQUNYRSxPQUFPLENBQUNDLEdBQVIsQ0FBWUgsR0FBRyxDQUFDUSxPQUFoQixFQURXLHdCQUVYVixHQUFHLENBQUNXLElBQUosQ0FBU1QsR0FBVCxFQUNELENBQ0YsQ0FkRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEdhbWUgPSByZXF1aXJlKCcuLi9tb2RlbHMvZ2FtZScpXG5jb25zdCBjaGFsayA9IHJlcXVpcmUoJ2NoYWxrJylcbmNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKVxuXG4vKiBHRVQgYWxsIGdhbWVzIGZyb20gdGhlIGRhdGFiYXNlICovXG5tb2R1bGUuZXhwb3J0cy5hbGxfZ2V0ID0gKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIEdhbWUuZmluZCh7fSwgZnVuY3Rpb24oZXJyLCBnYW1lcykge1xuICAgICAgICBpZihlcnIpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsuYmdCbGFjay5yZWQuYm9sZC51bmRlcmxpbmUoJ0Vycm9yIHJldHJpZXZpbmcgYWxsIGdhbWVzOiAnLiBlcnIubWVzc2FnZSkpXG4gICAgICAgICAgICByZXMuc2VuZChlcnIubWVzc2FnZSlcbiAgICAgICAgICAgIHJlcy5lbmQoKVxuICAgICAgICB9XG4gICAgICAvLyAgY29uc29sZS5sb2coY2hhbGsuYmdHcmVlbkJyaWdodC5ibHVlKGdhbWVzKSlcbiAgICAgICAgcmVzLnNlbmQoZ2FtZXMpXG4gICAgfSkgXG59XG5cbi8qIFBVVCBjcmVhdGUgYSBuZXcgZ2FtZSAgKi9cbm1vZHVsZS5leHBvcnRzLmFkZF9nYW1lID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgZyA9IHJlcS5ib2R5O1xuICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgZ2FtZSA9IGF3YWl0IEdhbWUuY3JlYXRlKGcpO1xuICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24oe2dhbWU6IGdhbWUuX2lkfSk7XG4gICAgLy9yZXMuc2VuZChnLnBsYXRmb3JtKVxuICAgIH1cbiAgICBjYXRjaChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgIHJlcy5zZW5kKGVycilcbiAgICB9XG59XG5cbi8qIEdFVCBhIHNwZWNpZmljIGdhbWUgYmFzZWQgb24gaWQgKi9cbm1vZHVsZS5leHBvcnRzLmdldF9nYW1lID0gYXN5bmMgKHJlcSxyZXMpID0+IHtcbiAgICBsZXQgaWQgPSByZXEucGFyYW1zLmlkXG4gICAgdHJ5IHtcbiAgICAgIGxldCBkYXRhID0gYXdhaXQgR2FtZS5maW5kQnlJZChpZClcbiAgICAgIHJlcy5zZW5kKGRhdGEpXG4gICAgfSBjYXRjaChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKVxuICAgICAgcmVzLnNlbmQoZXJyKVxuICAgIH1cbiAgICBcbn1cblxuLy8gTW9uZ29vc2Uuc2V0IHNvIHdoZW4gd2UgdXNlIFVQREFURSB0aGUgcmV0dXJuZWQgb2JqZWN0IGlzIHRoZSBuZXcgdXBkYXRlZCBvYmplY3Rcbm1vbmdvb3NlLnNldCgncmV0dXJuT3JpZ2luYWwnLCBmYWxzZSk7XG5cbi8qIFVQREFURSBhIHNwZWNpZmljIGdhbWUgYmFzZWQgb24gaWQgKi9cbm1vZHVsZS5leHBvcnRzLnVwZGF0ZV9nYW1lID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgbGV0IG5ld0JvZHkgPSByZXEuYm9keVxuICAgIGxldCBpZCA9IHJlcS5wYXJhbXMuaWRcblxuICAgIHRyeSB7XG4gICAgICBsZXQgdXBkYXRlZCA9IGF3YWl0IEdhbWUuZmluZEJ5SWRBbmRVcGRhdGUoaWQsIG5ld0JvZHkpXG4gICAgICByZXMuc2VuZCh1cGRhdGVkKVxuICAgIH1jYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSlcbiAgICAgIHJlcy5zZW5kKGVycilcbiAgICB9XG59XG4vKiBERUxFVEUgYSBzaW5nbGUgZ2FtZSBiYXNlZCBvbiB0aGUgSUQgKi9cbm1vZHVsZS5leHBvcnRzLmRlbGV0ZV9nYW1lID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGxldCBpZCA9IHJlcS5wYXJhbXMuaWRcbiAgY29uc29sZS5sb2coY2hhbGsuYmdHcmF5LmJsdWUoaWQpKVxuICB0cnl7XG4gICAgbGV0IGRlbGV0ZWRHYW1lID0gYXdhaXQgR2FtZS5maW5kT25lQW5kRGVsZXRlKGlkKVxuICAgIGxldCBub0dhbWVGb3VuZCA9IGF3YWl0IEdhbWUuZmluZEJ5SWQoaWQpXG4gICAgaWYoIW5vR2FtZUZvdW5kKSB7XG4gICAgICByZXMuc2VuZCgnZ2FtZSByZW1vdmVkIHN1Y2Nlc3NmdWxseScpXG4gICAgfVxuICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKCdEZWxldGVkJylcbiAgfWNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSlcbiAgICByZXMuc2VuZChlcnIpXG4gIH1cbn0iXX0=